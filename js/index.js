!function(t,e){var o=t.documentElement,i=1/Math.min(e.devicePixelRatio,3),l="orientationchange"in window?"orientationchange":"resize",n=t.createElement("meta");n.name="viewport",n.content="initial-scale=1,maximum-scale="+i,o.firstElementChild.appendChild(n);var r=function(){var t=o.clientWidth;o.style.fontSize=t/375*10+"px"};r(),t.addEventListener&&e.addEventListener(l,r,!1)}(document,window);var app=angular.module("flower",["ui.router","ngAnimate","flowerctl","FlowerDirective"]);app.config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("main",{url:"/main",views:{main:{templateUrl:"views/main.html",controller:"start"}}}).state("shopcar",{url:"/shopcar",params:{url:null},views:{main:{templateUrl:"views/shopcar.html",controller:"shopctl"}}}).state("main.home",{url:"/home",views:{content:{templateUrl:"views/home.html",controller:"homectl"}}}).state("main.class",{url:"/class",views:{content:{templateUrl:"views/class.html",controller:["$rootScope","$state",function(t,e){t.url="main.class"}]}}}).state("main.my",{url:"/my",views:{content:{templateUrl:"views/my.html",controller:"my"}}}).state("detail",{url:"/detail",params:{id:null},views:{main:{templateUrl:"views/detail.html",controller:"detailctl"}}}).state("passport",{url:"/passport",views:{main:{templateUrl:"views/passport.html",controller:"passctl"}}}).state("passport.rphone",{url:"/rphone",views:{regiscon:{templateUrl:"views/registerphone.html"}}}).state("passport.remail",{url:"/remail",views:{regiscon:{templateUrl:"views/registeremail.html"}}}),e.otherwise("main")}]);var ctl=angular.module("flowerctl",[]);ctl.controller("start",["$state","$scope","$rootScope","$location",function(t,e,o,i){o.url||t.go("main.home")}]),ctl.controller("homectl",["$scope","$rootScope","$http",function(t,e,o){$("body").scrollTop(0),e.url="main.home",t.data=[],o.get("data/flower.json").success(function(e){t.data=e})}]),ctl.controller("goodsclass",["$scope",function(t){t.name="商品分类",t.typelist={hot:{topbg:"img/all_banner_teacher.jpg",toptitle:"9.10 \t教师节\t提前送祝福",type:"tuijian",content:"这里是推荐"},flower:{topbg:"img/all_cla_ban_business flower.jpg",toptitle:"浪漫告白·卡罗拉红玫瑰11枝 ¥235",type:"flower",content:"鲜花"},ysh:{type:"ysh",content:"永生花",topbg:"img/all_cla_ban_freflowers.jpg",toptitle:"永生花盒·维多利亚的花园 ¥329"},cake:{type:"cake",content:"蛋糕",topbg:"img/all_cla_ban_cake.jpg",toptitle:"美味蛋糕·让生活充满甜蜜"}},t.myclass="hot",t.content=t.typelist.hot,t.type=function(e){t.myclass=e,t.content=t.typelist[e]}}]),ctl.controller("shopctl",["$scope","$state","$location","$rootScope",function(t,e,o,i){t.fl=!1,i.url=e.params.url,t.changeshow=function(){t.fl?t.fl=!1:t.fl=!0},t.goback=function(){e.go(e.params.url)},t.golook=function(){e.go("main.home")}}]),ctl.controller("my",["$scope","$rootScope","$state",function(t,e,o){e.url="main.my",t.goback=function(){window.history.go(-1)}}]),ctl.controller("detailctl",["$scope","$state","$http",function(t,e,o){$("body").scrollTop(0),console.log("controller"),t.backhome=function(){e.go("main.home")},t.back=function(){window.history.go(-1)},t.data=[],o.get("data/detail.json").success(function(o){t.data=o;for(var i=0;i<t.data.length;i++)e.params.id==t.data[i].id&&(t.content=t.data[i])}),t.arr=["9010011.jpg","201709011121381963.jpg","201709011117442888.jpg","201709011117500763.jpg"],t.lb1="9010011.jpg",t.lb2="201709011121381963.jpg",t.lb3="201709011117442888.jpg",t.lb4="201709011117500763.jpg"}]),ctl.controller("passctl",["$scope","$state",function(t,e){e.go("passport.rphone"),t.fl=!1,t.changeshow=function(){t.fl?t.fl=!1:t.fl=!0},t.goback=function(){window.history.go(-1)},t.golook=function(){e.go("main.home")}}]),ctl.controller("validateCtrl",["$scope",function(t){t.email="",t.mobileRegx="^1(3[0-9]|4[57]|5[0-35-9]|7[01678]|8[0-9])\\d{8}$",t.login=function(){console.log("123")}}]);var dir=angular.module("FlowerDirective",["flowerctl"]);dir.directive("swiper",function(){return{resrict:"A",replace:!0,templateUrl:"views/template/swiper.html",link:function(){new Swiper(".swiper1",{pagination:".swiper-pagination1",paginationClickable:!0,centeredSlides:!0,autoplay:2e3,loop:!0,autoplayDisableOnInteraction:!1})}}}),dir.directive("logintop",function(){return{resrict:"A",replace:!0,templateUrl:"views/template/logintop.html",link:function(){$(window).scroll(function(){$(window).scrollTop()>0?$(".top-fix").css({backgroundColor:"#fff"}):$(".top-fix").css({backgroundColor:"transparent"})})}}}),dir.directive("midgoods",function(){return{resrict:"A",replace:!0,templateUrl:"views/template/midgoods.html"}}),dir.directive("jingxuan",function(){return{resrict:"A",replace:!0,templateUrl:"views/template/jingxuan.html"}}),dir.directive("yongshenghua",function(){return{resrict:"A",replace:!0,templateUrl:"views/template/yongshenghua.html"}}),dir.directive("swiperbot",function(){return{resrict:"A",replace:!0,templateUrl:"views/template/swiperbot.html",link:function(){var t=new Swiper(".swiper2",{pagination:".swiper-pagination2",paginationClickable:!0,centeredSlides:!0,paginationType:"custom",paginationElement:"li",uniqueNavElements:!1,paginationCustomRender:function(t,e,o){},onSlideChangeEnd:function(t){num=t.activeIndex,$(".sw-head ul").find("li").eq(num).attr("class","sw2-active").siblings().attr("class","sw2-nactive")}});$(".sw-head ul li").click(function(){$(this).attr("class","");var e=$(this).index();t.slideTo(e,200,!1),$(this).attr("class","sw2-active").siblings().attr("class","sw2-nactive")}),$(window).scroll(function(){$(window).scrollTop()>=1e3?$(".go-top").show():$(".go-top").hide(),$(".go-top").click(function(){$(window).scrollTop(0)})})}}}),dir.directive("searchbox",function(){return{resrict:"A",replace:!0,templateUrl:"views/template/searchbox.html"}}),dir.directive("goodstype",function(){return{resrict:"A",replace:!0,controller:"goodsclass",templateUrl:"views/template/goodstype.html"}}),dir.directive("detailsw",function(){return{resrict:"A",replace:!0,templateUrl:"views/template/detailsw.html",link:function(){setTimeout(function(){new Swiper(".swiper3",{pagination:".swiper-pagination3",paginationClickable:!0,centeredSlides:!0,autoplay:2e3,loop:!0,autoplayDisableOnInteraction:!1,observer:!0,observeParents:!0})},0),$(window).scroll(function(){$(window).scrollTop()>1e3?$(".detail-top").css({background:"#fff"}):$(".detail-top").css({background:"rgba(255, 255, 255, 0.26)"})})}}}),dir.directive("advice",function(){return{resrict:"A",replace:!1,templateUrl:"views/template/advice.html"}}),dir.directive("register",function(){return{resrict:"A",replace:!0,templateUrl:"views/template/register.html"}});